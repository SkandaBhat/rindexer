# storage

Storage YAML config describes the storage providers you wish to enable.

:::info
YAML files can be used to store sensitive information, you can use environment variables to store this information.
The syntax for this in the YAML is `${ENV_VARIABLE_NAME}`.
:::

## postgres

If you wish to store the data in a postgres database you can enable the postgres storage.

:::info
This is optional if you do not wish to store the data in a postgres database you can leave this section out of your YAML.
:::

### Own connection string

If you are deploying the indexer or want to point to an external database you can supply your own 
connection string, to do this you have to change/define it the `.env` file.

```bash
DATABASE_URL=postgresql://[user[:password]@][host][:port][/dbname]
```

### enabled

If postgres is enabled or not, if you do not wish to use postgres you can set this to false or remove postgres from the storage completely.

```yaml [rindexer.yaml]
name: rETHIndexer
description: My first rindexer project
repository: https://github.com/joshstevens19/rindexer
project_type: no-code
networks:
- name: ethereum
  chain_id: 1
  rpc: https://mainnet.gateway.tenderly.co
storage:
  postgres:
    enabled: true // [!code focus]
```

### disable_create_tables

:::info
This is only relevant for the rust projects as no-code if postgres is enabled will have to create the tables.
:::

If you do not wish for rindexer to create the database tables for you automatically you can set this to true.
By default if will create the tables for you. When this is disabled it will not write the sql in the handlers for you either.
This field is optional and can be ignored if you do not need it.

```yaml [rindexer.yaml]
name: rETHIndexer
description: My first rindexer project
repository: https://github.com/joshstevens19/rindexer
project_type: no-code
networks:
- name: ethereum
  chain_id: 1
  rpc: https://mainnet.gateway.tenderly.co
storage:
  postgres:
    enabled: true
    disable_create_tables: true // [!code focus]
```

## csv

If you wish to store the data in a CSV files you can enable the csv storage.

:::info
This is optional if you do not wish to store the data in a CSV files you can leave this section out of your YAML.
:::

### enabled

If csv is enabled or not, if you do not wish to use csv you can set this to false or remove csv from the storage completely.

```yaml [rindexer.yaml]
name: rETHIndexer
description: My first rindexer project
repository: https://github.com/joshstevens19/rindexer
project_type: no-code
networks:
- name: ethereum
  chain_id: 1
  rpc: https://mainnet.gateway.tenderly.co
storage:
  csv:
    enabled: true // [!code focus]
```

### path

:::info
This field is optional
:::

The path to store the CSV files, it should be a directory path, if it does not exist it will be created in the project directory
in folder called `generated_csv`.

```yaml [rindexer.yaml]
name: rETHIndexer
description: My first rindexer project
repository: https://github.com/joshstevens19/rindexer
project_type: no-code
networks:
- name: ethereum
  chain_id: 1
  rpc: https://mainnet.gateway.tenderly.co
storage:
  csv:
    enabled: true
    path: ./generated_csv // [!code focus]
```

### disable_create_headers

:::info
This is only relevant for the rust projects as no-code if csv is enabled it will have to csv headers for you.
:::

If you do not wish for rindexer to create csv headers for you automatically you can set this to true.
By default if will create the csv headers for you. When this is disabled it will not write the csv code in the handlers for you either.
This field is optional and can be ignored if you do not need it.

```yaml [rindexer.yaml]
name: rETHIndexer
description: My first rindexer project
repository: https://github.com/joshstevens19/rindexer
project_type: no-code
networks:
- name: ethereum
  chain_id: 1
  rpc: https://mainnet.gateway.tenderly.co
storage:
  csv:
    enabled: true
    path: ./generated_csv
    disable_create_headers: true // [!code focus]
```

## Multiple Storage Providers

You can have multiple storage providers in the YAML file.

```yaml [rindexer.yaml]
name: rETHIndexer
description: My first rindexer project
repository: https://github.com/joshstevens19/rindexer
project_type: no-code
networks:
- name: ethereum
  chain_id: 1
  rpc: https://mainnet.gateway.tenderly.co
storage: // [!code focus]
  postgres: // [!code focus]
    enabled: true // [!code focus]
  csv: // [!code focus]
    enabled: true // [!code focus]
```